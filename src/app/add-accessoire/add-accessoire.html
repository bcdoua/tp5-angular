<div class="container">
  <div>
    <h2>Ajouter un accessoire :</h2>
  </div>
  <form #f="ngForm" (ngSubmit)="addaccessoire()">
    <div class="col-sm-4 col-md-4 col-lg-4">
      <label>ID accessoire</label>
      <input
        type="text"
        name="idaccessoire"
        [(ngModel)]="newaccessoire.idaccessoire"
        class="form-control"
        required
        pattern="^[0-9]+$"
      />
      <div *ngIf="f.submitted && f.controls['idaccessoire']?.hasError('required')" class="text-danger">
        L'ID est obligatoire !
      </div>
      <div *ngIf="f.submitted && f.controls['idaccessoire']?.hasError('pattern')" class="text-danger">
        L’ID doit être un nombre !
      </div>
    </div>

    <div class="col-sm-4 col-md-4 col-lg-4">
      <label>Nom accessoire</label>
      <input
        type="text"
        name="nomaccessoire"
        [(ngModel)]="newaccessoire.nomaccessoire"
        class="form-control"
        required
        minlength="3"
      />
      <div *ngIf="f.submitted && f.controls['nomaccessoire']?.hasError('required')" class="text-danger">
        Le nom est obligatoire !
      </div>
      <div *ngIf="f.submitted && f.controls['nomaccessoire']?.hasError('minlength')" class="text-danger">
        Le nom doit contenir au moins 3 caractères !
      </div>
    </div>

    <div class="col-sm-2 col-md-2 col-lg-2">
      <label>Prix accessoire</label>
      <input
        type="text"
        name="prixaccessoire"
        [(ngModel)]="newaccessoire.prixaccessoire"
        class="form-control"
        required
        min="0"
      />
      <div *ngIf="f.submitted && f.controls['prixaccessoire']?.hasError('required')" class="text-danger">
        Le prix est obligatoire !
      </div>
      <div *ngIf="f.submitted && f.controls['prixaccessoire']?.hasError('min')" class="text-danger">
        Le prix doit être positif !
      </div>
    </div>

    <div class="col-sm-4 col-md-4 col-lg-4">
      <label>Date création</label>
      <input
        type="date"
        name="dateCreation"
        [(ngModel)]="newaccessoire.dateCreation"
        class="form-control"
        required
      />
      <div *ngIf="f.submitted && f.controls['dateCreation']?.hasError('required')" class="text-danger">
        La date est obligatoire !
      </div>
    </div>

    <div class="col-sm-4 col-md-4 col-lg-4">
      <label>Couleur</label>
      <select
        class="form-control form-control-lg"
        id="idCoul"
        name="idCoul"
        [(ngModel)]="newidCoul"
        required
      >
        <option *ngFor="let cat of couleurs" [value]="cat.idCoul">{{ cat.nomCoul }}</option>
      </select>
      <div *ngIf="f.submitted && f.controls['idCoul']?.hasError('required')" class="text-danger">
        La couleur est obligatoire !
      </div>
    </div>

    <div class="col-sm-4 col-md-4 col-lg-4">
      <label>Email</label>
      <input
        type="email"
        name="email"
        [(ngModel)]="newaccessoire.email"
        class="form-control"
        required
        email
      />
      <div *ngIf="f.submitted && f.controls['email']?.hasError('required')" class="text-danger">
        L’email est obligatoire !
      </div>
      <div *ngIf="f.submitted && f.controls['email']?.hasError('email')" class="text-danger">
        L’email n’est pas valide !
      </div>
    </div>

    <div class="mt-3">
      <button type="submit" class="btn btn-success" [disabled]="f.invalid">Ajouter</button>
    </div>
  </form>
</div>
